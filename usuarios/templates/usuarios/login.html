{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio de Sesión{% endblock %}

{% block content %}
<div class="flex min-h-screen font-sans">
    <!-- Columna Izquierda: Carrusel -->
    <div class="hidden lg:flex w-2/3 bg-gray-900 text-white flex-col justify-center items-center p-12 text-center">
        <h2 class="text-5xl font-light tracking-widest">PRE - ICFES VICTOR VALDEZ</h2>
        <h1 class="text-5xl font-bold my-4">EL CAMINO HACIA LA CARRERA DE TUS SUEÑOS</h1>
        <div class="relative w-full max-w-3xl h-80 mt-8 rounded-lg overflow-hidden shadow-2xl">
            <div id="image-slider" class="relative h-full">
                <img src="{% static 'img/fachada1.PNG' %}" alt="Fachada 1" class="slider-image absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-100">
                <img src="{% static 'img/fachada2.PNG' %}" alt="Fachada 2" class="slider-image absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-0">
                <img src="{% static 'img/fachada3.PNG' %}" alt="Fachada 3" class="slider-image absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ease-in-out opacity-0">
            </div>
        </div>
    </div>

    <!-- Columna Derecha: Formulario -->
    <div class="w-full lg:w-1/3 bg-white flex flex-col justify-center items-center p-8">
        <div class="w-full max-w-xs">
            <img src="{% static 'img/logo.png' %}" alt="Logo" class="w-32 mx-auto mb-6">
            <h1 class="text-2xl font-semibold text-center mb-6">INICIAR SESIÓN</h1>
            
            <form method="post">
                {% csrf_token %}
                <div class="mb-4">
                    <label for="{{ form.username.id_for_label }}" class="block text-gray-700 text-sm mb-2">Usuario:</label>
                    <input type="text" name="{{ form.username.name }}" id="{{ form.username.id_for_label }}" class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-100">
                </div>
                <div class="mb-6">
                    <label for="{{ form.password.id_for_label }}" class="block text-gray-700 text-sm mb-2">Contraseña:</label>
                    <input type="password" name="{{ form.password.name }}" id="{{ form.password.id_for_label }}" class="shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-gray-100">
                </div>
                {% if form.errors %}
                    <div class="text-red-500 text-xs italic mb-4">
                        {% for field in form %}
                            {% for error in field.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
                <button type="submit" class="w-full bg-yellow-400 text-black font-bold py-2 px-4 rounded hover:bg-yellow-500 focus:outline-none focus:shadow-outline">
                    Iniciar Sesión
                </button>
            </form>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const slider = document.getElementById('image-slider');
    if (slider) {
        const images = slider.querySelectorAll('.slider-image');
        let currentIndex = 0;

        setInterval(() => {
            if (images.length > 0) {
                images[currentIndex].classList.remove('opacity-100');
                images[currentIndex].classList.add('opacity-0');

                currentIndex = (currentIndex + 1) % images.length;

                images[currentIndex].classList.remove('opacity-0');
                images[currentIndex].classList.add('opacity-100');
            }
        }, 3000); // Cambia la imagen cada 5 segundos
    }
});
</script>
{% endblock content %}